{"generatedAt":1743100795173,"generateTime":608,"contents":[{"_path":"/","_dir":"","_draft":false,"_partial":false,"_locale":"","title":"Home","description":"","navigation":false,"layout":"page","main":{"fluid":false},"body":{"type":"root","children":[{"type":"element","tag":"ellipsis","props":{"blur":"150px","right":"0px","width":"75%"},"children":[]},{"type":"element","tag":"block-hero","props":{":cta":"[\"Get started\",\"/guide/getting-started\"]",":secondary":"[\"Open on GitHub â†’\",\"https://github.com/huang-julien/nitro-applicationinsights\"]"},"children":[{"type":"element","tag":"template","props":{"v-slot:title":""},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"nitro-applicationinsights"}]}]},{"type":"element","tag":"template","props":{"v-slot:description":""},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://learn.microsoft.com/fr-fr/azure/azure-monitor/app/app-insights-overview?tabs=net","rel":["nofollow"]},"children":[{"type":"text","value":"Application Insights"}]},{"type":"text","value":" integration for "},{"type":"element","tag":"a","props":{"href":"https://nitro.unjs.io/","rel":["nofollow"]},"children":[{"type":"text","value":"nitro"}]},{"type":"text","value":"."}]}]},{"type":"element","tag":"template","props":{"v-slot:extra":""},"children":[{"type":"element","tag":"list","props":{},"children":[{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Server-side integration of "},{"type":"element","tag":"a","props":{"href":"https://www.npmjs.com/package/applicationinsights","rel":["nofollow"]},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"applicationinsights"}]}]},{"type":"text","value":" for nitro"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Easy setup"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Hookable"}]}]}]}]},{"type":"element","tag":"template","props":{"v-slot:support":""},"children":[{"type":"element","tag":"terminal","props":{":content":"[\"pnpm install nitro-applicationinsights\"]"},"children":[]}]}]},{"type":"element","tag":"card-grid","props":{},"children":[{"type":"element","tag":"card","props":{},"children":[{"type":"element","tag":"template","props":{"v-slot:title":""},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Runtime configuration"}]}]},{"type":"element","tag":"template","props":{"v-slot:description":""},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Configure applicationinsights at startup or in your nitro configuration."}]}]}]},{"type":"element","tag":"card","props":{},"children":[{"type":"element","tag":"template","props":{"v-slot:title":""},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Integrate nitro-opentelemetry"}]}]},{"type":"element","tag":"template","props":{"v-slot:description":""},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Use OTEL's API"}]}]}]},{"type":"element","tag":"card","props":{},"children":[{"type":"element","tag":"template","props":{"v-slot:title":""},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Auto track request"}]}]},{"type":"element","tag":"template","props":{"v-slot:description":""},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"All your outgoing responses are tracked automatically. Responses are correlated to the incoming request."}]}]}]},{"type":"element","tag":"template","props":{"v-slot:title":""},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Features"}]}]},{"type":"element","tag":"template","props":{"v-slot:root":""},"children":[{"type":"element","tag":"ellipsis","props":{},"children":[]}]}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[]}},"_type":"markdown","_id":"content:0.index.md","_source":"content","_file":"0.index.md","_stem":"0.index","_extension":"md"},{"_path":"/guide/_dir","_dir":"guide","_draft":false,"_partial":true,"_locale":"","icon":"ph:star-duotone","navigation":{"redirect":"/introduction/getting-started"},"_id":"content:1.guide:_dir.yml","_type":"yaml","title":"Dir","_source":"content","_file":"1.guide/_dir.yml","_stem":"1.guide/_dir","_extension":"yml"},{"_path":"/guide/getting-started","_dir":"guide","_draft":false,"_partial":false,"_locale":"","title":"Getting Started","description":"Get applicationinsights on nitro in a few minutes.","body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"getting-started"},"children":[{"type":"text","value":"Getting Started"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Get applicationinsights on nitro in a few minutes."}]},{"type":"element","tag":"h2","props":{"id":"play-online"},"children":[{"type":"text","value":"Play online"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You can start playing with nitro-applicationinsights in your browser using Stackblitz:"}]},{"type":"element","tag":"button-link","props":{":blank":"true","href":"https://stackblitz.com/edit/unjs-nitro-ybsjga","icon":"IconStackBlitz","size":"small"},"children":[{"type":"text","value":"Play on StackBlitz"}]},{"type":"element","tag":"h2","props":{"id":"install-it-on-your-project"},"children":[{"type":"text","value":"Install it on your project"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Add the module to your dependencies"}]}]},{"type":"element","tag":"code-group","props":{},"children":[{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark github-light","code":"npm install nitro-applicationinsights\n","filename":"npm","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":"npm"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" install"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" nitro-applicationinsights\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark github-light","code":"yarn install nitro-applicationinsights\n","filename":"yarn","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":"yarn"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" install"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" nitro-applicationinsights\n"}]}]}]}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark github-light","code":"pnpm install nitro-applicationinsights\n","filename":"pnpm","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":"pnpm"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" install"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" nitro-applicationinsights\n"}]}]}]}]}]},{"type":"element","tag":"ol","props":{"start":2},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Add the module into your config"}]}]},{"type":"element","tag":"pre","props":{"className":"language-ts shiki shiki-themes github-dark github-light","code":"export default defineNitroConfig({\n  modules: ['nitro-applicationinsights']\n})\n","filename":"nitro.config.ts","language":"ts","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#F97583;--shiki-default:#D73A49"},"children":[{"type":"text","value":"export"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#F97583;--shiki-default:#D73A49"},"children":[{"type":"text","value":" default"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":" defineNitroConfig"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#E1E4E8;--shiki-default:#24292E"},"children":[{"type":"text","value":"({\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#E1E4E8;--shiki-default:#24292E"},"children":[{"type":"text","value":"  modules: ["}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":"'nitro-applicationinsights'"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#E1E4E8;--shiki-default:#24292E"},"children":[{"type":"text","value":"]\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#E1E4E8;--shiki-default:#24292E"},"children":[{"type":"text","value":"})\n"}]}]}]}]},{"type":"element","tag":"style","props":{},"children":[{"type":"text","value":"html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"play-online","depth":2,"text":"Play online"},{"id":"install-it-on-your-project","depth":2,"text":"Install it on your project"}]}},"_type":"markdown","_id":"content:1.guide:1.getting-started.md","_source":"content","_file":"1.guide/1.getting-started.md","_stem":"1.guide/1.getting-started","_extension":"md"},{"_path":"/guide/how-does-it-work","_dir":"guide","_draft":false,"_partial":false,"_locale":"","title":"How does it works ?","description":"nitro-applicationinsights is simply a package which provides a plugin for nitro.","body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"how-does-it-works"},"children":[{"type":"text","value":"How does it works ?"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"nitro-applicationinsights"}]},{"type":"text","value":" is simply a package which provides a plugin for nitro."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"It setup the default client of "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"applicationinsights"}]},{"type":"text","value":" on nitro start up. You can configure this by hooking into the "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"applicationinsights:config"}]},{"type":"text","value":" hook of nitro."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Since "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"applicationinsights"}]},{"type":"text","value":" v3 uses Opentelemetry under the hood, this nitro plugin also run "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"nitro-opentelemetry"}]},{"type":"text","value":"."}]},{"type":"element","tag":"h1","props":{"id":"automated-traces"},"children":[{"type":"text","value":"Automated traces"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"nitro-opentelemetry"}]},{"type":"text","value":" plugin will automatically trace all your incoming and outgoing request from your Nitro server.\nThis means that you don't need to call "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"defaultClient.trackDependency()"}]},{"type":"text","value":" yourself."}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[]}},"_type":"markdown","_id":"content:1.guide:2.how-does-it-work.md","_source":"content","_file":"1.guide/2.how-does-it-work.md","_stem":"1.guide/2.how-does-it-work","_extension":"md"},{"_path":"/guide/runtime-configuration","_dir":"guide","_draft":false,"_partial":false,"_locale":"","title":"Runtime configuration","description":"You can configure applicationinsights either through the runtime config or hooks.","body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"runtime-configuration"},"children":[{"type":"text","value":"Runtime configuration"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You can configure "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"applicationinsights"}]},{"type":"text","value":" either through the runtime config or hooks."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The runtime configuration will have a reserved property called "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"applicationinsights"}]},{"type":"text","value":" for you to pass the configuration of "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"applicationinsights"}]},{"type":"text","value":":"}]},{"type":"element","tag":"pre","props":{"className":"language-ts shiki shiki-themes github-dark github-light","code":"type TNitroAppInsightsConfig = {\n  connectionString?: string\n  autoCollectRequests: boolean\n  autoCollectConsole: boolean | {value: boolean, collectConsoleLogs: boolean}\n  autoCollectDependencies: boolean\n  autoCollectExceptions: boolean\n  autoCollectPerformance: {value :boolean, collectExtendedMetrics: boolean}\n  autoCollectHeartbeat: boolean\n  autoCollectIncomingRequestAzureFunctions: boolean\n  autoCollectPreAggregatedMetrics: boolean\n  autoDependencyCorrelation: boolean | {value :boolean, useAsyncHooks :boolean}\n  enableWebInstrumentation: boolean | {value: boolean, WebSnippetConnectionString?: string}\n  distributedTracingMode: DistributedTracingModes\n  sendLiveMetrics:boolean\n  internalLogging: {enableDebugLogging?: boolean, enableWarningLogging?: boolean}\n  useDiskRetryCaching: boolean\n}\n","language":"ts","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#F97583;--shiki-default:#D73A49"},"children":[{"type":"text","value":"type"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":" TNitroAppInsightsConfig"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#F97583;--shiki-default:#D73A49"},"children":[{"type":"text","value":" ="}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#E1E4E8;--shiki-default:#24292E"},"children":[{"type":"text","value":" {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#FFAB70;--shiki-default:#E36209"},"children":[{"type":"text","value":"  connectionString"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#F97583;--shiki-default:#D73A49"},"children":[{"type":"text","value":"?:"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":" string\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#FFAB70;--shiki-default:#E36209"},"children":[{"type":"text","value":"  autoCollectRequests"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#F97583;--shiki-default:#D73A49"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":" boolean\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#FFAB70;--shiki-default:#E36209"},"children":[{"type":"text","value":"  autoCollectConsole"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#F97583;--shiki-default:#D73A49"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":" boolean"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#F97583;--shiki-default:#D73A49"},"children":[{"type":"text","value":" |"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#E1E4E8;--shiki-default:#24292E"},"children":[{"type":"text","value":" {"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#FFAB70;--shiki-default:#E36209"},"children":[{"type":"text","value":"value"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#F97583;--shiki-default:#D73A49"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":" boolean"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#E1E4E8;--shiki-default:#24292E"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#FFAB70;--shiki-default:#E36209"},"children":[{"type":"text","value":"collectConsoleLogs"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#F97583;--shiki-default:#D73A49"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":" boolean"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#E1E4E8;--shiki-default:#24292E"},"children":[{"type":"text","value":"}\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#FFAB70;--shiki-default:#E36209"},"children":[{"type":"text","value":"  autoCollectDependencies"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#F97583;--shiki-default:#D73A49"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":" boolean\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#FFAB70;--shiki-default:#E36209"},"children":[{"type":"text","value":"  autoCollectExceptions"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#F97583;--shiki-default:#D73A49"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":" boolean\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#FFAB70;--shiki-default:#E36209"},"children":[{"type":"text","value":"  autoCollectPerformance"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#F97583;--shiki-default:#D73A49"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#E1E4E8;--shiki-default:#24292E"},"children":[{"type":"text","value":" {"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#FFAB70;--shiki-default:#E36209"},"children":[{"type":"text","value":"value"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#F97583;--shiki-default:#D73A49"},"children":[{"type":"text","value":" :"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":"boolean"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#E1E4E8;--shiki-default:#24292E"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#FFAB70;--shiki-default:#E36209"},"children":[{"type":"text","value":"collectExtendedMetrics"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#F97583;--shiki-default:#D73A49"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":" boolean"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#E1E4E8;--shiki-default:#24292E"},"children":[{"type":"text","value":"}\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#FFAB70;--shiki-default:#E36209"},"children":[{"type":"text","value":"  autoCollectHeartbeat"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#F97583;--shiki-default:#D73A49"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":" boolean\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#FFAB70;--shiki-default:#E36209"},"children":[{"type":"text","value":"  autoCollectIncomingRequestAzureFunctions"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#F97583;--shiki-default:#D73A49"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":" boolean\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#FFAB70;--shiki-default:#E36209"},"children":[{"type":"text","value":"  autoCollectPreAggregatedMetrics"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#F97583;--shiki-default:#D73A49"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":" boolean\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":11},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#FFAB70;--shiki-default:#E36209"},"children":[{"type":"text","value":"  autoDependencyCorrelation"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#F97583;--shiki-default:#D73A49"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":" boolean"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#F97583;--shiki-default:#D73A49"},"children":[{"type":"text","value":" |"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#E1E4E8;--shiki-default:#24292E"},"children":[{"type":"text","value":" {"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#FFAB70;--shiki-default:#E36209"},"children":[{"type":"text","value":"value"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#F97583;--shiki-default:#D73A49"},"children":[{"type":"text","value":" :"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":"boolean"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#E1E4E8;--shiki-default:#24292E"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#FFAB70;--shiki-default:#E36209"},"children":[{"type":"text","value":"useAsyncHooks"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#F97583;--shiki-default:#D73A49"},"children":[{"type":"text","value":" :"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":"boolean"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#E1E4E8;--shiki-default:#24292E"},"children":[{"type":"text","value":"}\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":12},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#FFAB70;--shiki-default:#E36209"},"children":[{"type":"text","value":"  enableWebInstrumentation"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#F97583;--shiki-default:#D73A49"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":" boolean"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#F97583;--shiki-default:#D73A49"},"children":[{"type":"text","value":" |"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#E1E4E8;--shiki-default:#24292E"},"children":[{"type":"text","value":" {"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#FFAB70;--shiki-default:#E36209"},"children":[{"type":"text","value":"value"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#F97583;--shiki-default:#D73A49"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":" boolean"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#E1E4E8;--shiki-default:#24292E"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#FFAB70;--shiki-default:#E36209"},"children":[{"type":"text","value":"WebSnippetConnectionString"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#F97583;--shiki-default:#D73A49"},"children":[{"type":"text","value":"?:"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":" string"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#E1E4E8;--shiki-default:#24292E"},"children":[{"type":"text","value":"}\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":13},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#FFAB70;--shiki-default:#E36209"},"children":[{"type":"text","value":"  distributedTracingMode"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#F97583;--shiki-default:#D73A49"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":" DistributedTracingModes\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":14},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#FFAB70;--shiki-default:#E36209"},"children":[{"type":"text","value":"  sendLiveMetrics"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#F97583;--shiki-default:#D73A49"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":"boolean\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":15},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#FFAB70;--shiki-default:#E36209"},"children":[{"type":"text","value":"  internalLogging"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#F97583;--shiki-default:#D73A49"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#E1E4E8;--shiki-default:#24292E"},"children":[{"type":"text","value":" {"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#FFAB70;--shiki-default:#E36209"},"children":[{"type":"text","value":"enableDebugLogging"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#F97583;--shiki-default:#D73A49"},"children":[{"type":"text","value":"?:"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":" boolean"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#E1E4E8;--shiki-default:#24292E"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#FFAB70;--shiki-default:#E36209"},"children":[{"type":"text","value":"enableWarningLogging"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#F97583;--shiki-default:#D73A49"},"children":[{"type":"text","value":"?:"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":" boolean"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#E1E4E8;--shiki-default:#24292E"},"children":[{"type":"text","value":"}\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":16},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#FFAB70;--shiki-default:#E36209"},"children":[{"type":"text","value":"  useDiskRetryCaching"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#F97583;--shiki-default:#D73A49"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#79B8FF;--shiki-default:#005CC5"},"children":[{"type":"text","value":" boolean\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":17},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#E1E4E8;--shiki-default:#24292E"},"children":[{"type":"text","value":"}\n"}]}]}]}]},{"type":"element","tag":"alert","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"See more at the "},{"type":"element","tag":"a","props":{"href":"/api/hooks"},"children":[{"type":"text","value":"hook documentation"}]}]}]},{"type":"element","tag":"style","props":{},"children":[{"type":"text","value":"html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[]}},"_type":"markdown","_id":"content:1.guide:3.runtime-configuration.md","_source":"content","_file":"1.guide/3.runtime-configuration.md","_stem":"1.guide/3.runtime-configuration","_extension":"md"},{"_path":"/guide/event-handlers","_dir":"guide","_draft":false,"_partial":false,"_locale":"","title":"Event handlers","description":"In order to keep the Opentelemetry context within your event handlers, you need to wrap your own with defineTracedHandler from nitro-opentelemetry/runtime/utils:","body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"event-handlers"},"children":[{"type":"text","value":"Event handlers"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"In order to keep the Opentelemetry context within your event handlers, you need to wrap your own with "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"defineTracedHandler"}]},{"type":"text","value":" from "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"nitro-opentelemetry/runtime/utils"}]},{"type":"text","value":":"}]},{"type":"element","tag":"pre","props":{"className":"language-ts shiki shiki-themes github-dark github-light","code":"// this is also auto-imported\nimport { defineTracedEventHandler } from \"nitro-opentelemetry/runtime/utils\"\n\nexport default defineTracedEventHandler(() => {\n    return \"Hello World !\"\n})\n","language":"ts","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#6A737D;--shiki-default:#6A737D"},"children":[{"type":"text","value":"// this is also auto-imported\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#F97583;--shiki-default:#D73A49"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#E1E4E8;--shiki-default:#24292E"},"children":[{"type":"text","value":" { defineTracedEventHandler } "}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#F97583;--shiki-default:#D73A49"},"children":[{"type":"text","value":"from"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" \"nitro-opentelemetry/runtime/utils\"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"emptyLinePlaceholder":true},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#F97583;--shiki-default:#D73A49"},"children":[{"type":"text","value":"export"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#F97583;--shiki-default:#D73A49"},"children":[{"type":"text","value":" default"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#B392F0;--shiki-default:#6F42C1"},"children":[{"type":"text","value":" defineTracedEventHandler"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#E1E4E8;--shiki-default:#24292E"},"children":[{"type":"text","value":"(() "}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#F97583;--shiki-default:#D73A49"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#E1E4E8;--shiki-default:#24292E"},"children":[{"type":"text","value":" {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#F97583;--shiki-default:#D73A49"},"children":[{"type":"text","value":"    return"}]},{"type":"element","tag":"span","props":{"style":"--shiki-dark:#9ECBFF;--shiki-default:#032F62"},"children":[{"type":"text","value":" \"Hello World !\"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-dark:#E1E4E8;--shiki-default:#24292E"},"children":[{"type":"text","value":"})\n"}]}]}]}]},{"type":"element","tag":"style","props":{},"children":[{"type":"text","value":"html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[]}},"_type":"markdown","_id":"content:1.guide:4.event-handlers.md","_source":"content","_file":"1.guide/4.event-handlers.md","_stem":"1.guide/4.event-handlers","_extension":"md"},{"_path":"/guide/migration","_dir":"guide","_draft":false,"_partial":false,"_locale":"","title":"Migration","description":"","body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"migration"},"children":[{"type":"text","value":"Migration"}]},{"type":"element","tag":"h2","props":{"id":"from-100-to-101"},"children":[{"type":"text","value":"From 1.0.0 to 1.0.1"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Following "},{"type":"element","tag":"a","props":{"href":"https://github.com/huang-julien/nitro-opentelemetry/releases/tag/v0.7.0","rel":["nofollow"]},"children":[{"type":"text","value":"nitro-opentelemetry v0.7.0"}]},{"type":"text","value":", "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"event.context.span"}]},{"type":"text","value":" has been moved to "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"event.otel.span"}]}]},{"type":"element","tag":"h2","props":{"id":"from-0x-to-1x"},"children":[{"type":"text","value":"From 0.x to 1.x"}]},{"type":"element","tag":"h3","props":{"id":"moving-to-applicationinsights-3-and-opentelemetry"},"children":[{"type":"text","value":"Moving to Applicationinsights 3 and Opentelemetry"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"See "},{"type":"element","tag":"a","props":{"href":"https://learn.microsoft.com/fr-fr/azure/azure-monitor/app/opentelemetry-nodejs-migrate?tabs=upgrade","rel":["nofollow"]},"children":[{"type":"text","value":"Microsoft applicationinsights documentation"}]},{"type":"text","value":" for changes from applicationinsights 2 to 3."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"See "},{"type":"element","tag":"a","props":{"href":"https://github.com/huang-julien/nitro-opentelemetry","rel":["nofollow"]},"children":[{"type":"text","value":"nitro-opentelemetry"}]}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"H3Event.$appInsights"}]},{"type":"text","value":" has been removed in favor of Opentelemetry Span."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"applicationinsights:trackError:before"}]},{"type":"text","value":" has been removed."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"applicationinsights:context:tags"}]},{"type":"text","value":" has been removed. You can use "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"H3Event.context.span.setAttributes()"}]},{"type":"text","value":" instead."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"applicationinsights:trackRequest:before"}]},{"type":"text","value":" has been removed. You can use "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"otel:span:end"}]},{"type":"text","value":" nitro-opentelemetry hook instead."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"applicationinsights:trackError:before"}]},{"type":"text","value":" has been removed. You can directly hook into the error hook from nitro instead."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"You need to wrap all your event handlers with "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"defineTracedEventHandler"}]},{"type":"text","value":". See "},{"type":"element","tag":"a","props":{"href":"/guide/event-handlers"},"children":[{"type":"text","value":"event handlers"}]}]}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"from-100-to-101","depth":2,"text":"From 1.0.0 to 1.0.1"},{"id":"from-0x-to-1x","depth":2,"text":"From 0.x to 1.x","children":[{"id":"moving-to-applicationinsights-3-and-opentelemetry","depth":3,"text":"Moving to Applicationinsights 3 and Opentelemetry"}]}]}},"_type":"markdown","_id":"content:1.guide:4.migration.md","_source":"content","_file":"1.guide/4.migration.md","_stem":"1.guide/4.migration","_extension":"md"},{"_path":"/api/_dir","_dir":"api","_draft":false,"_partial":true,"_locale":"","title":"API","icon":"heroicons-outline:bookmark-alt","_id":"content:2.api:_dir.yml","_type":"yaml","_source":"content","_file":"2.api/_dir.yml","_stem":"2.api/_dir","_extension":"yml"},{"_path":"/api/hooks","_dir":"api","_draft":false,"_partial":false,"_locale":"","title":"Hooks","description":"Available hooks through Nitro","body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"hooks"},"children":[{"type":"text","value":"Hooks"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Available hooks through Nitro"}]},{"type":"element","tag":"table","props":{},"children":[{"type":"element","tag":"thead","props":{},"children":[{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"th","props":{},"children":[{"type":"text","value":"Hook"}]},{"type":"element","tag":"th","props":{},"children":[{"type":"text","value":"Arguments"}]},{"type":"element","tag":"th","props":{},"children":[{"type":"text","value":"Description"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"| "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"applicationinsights:setup"}]},{"type":"text","value":"              | context: { client: "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"TelemetryClient"}]},{"type":"text","value":", configuration: "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"Configuration"}]},{"type":"text","value":" }               | Triggered when the applicationinsights client is setup but not initialized                               |"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"| "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"applicationinsights:ready"}]},{"type":"text","value":"              | context: { client: "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"TelemetryClient"}]},{"type":"text","value":" }                                                    | Triggered when the applicationinsights client is ready and initialized                              |"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[]}},"_type":"markdown","_id":"content:2.api:1.hooks.md","_source":"content","_file":"2.api/1.hooks.md","_stem":"2.api/1.hooks","_extension":"md"}],"navigation":[{"title":"Guide","_path":"/guide","children":[{"title":"Getting Started","_path":"/guide/getting-started"},{"title":"How does it works ?","_path":"/guide/how-does-it-work"},{"title":"Runtime configuration","_path":"/guide/runtime-configuration"},{"title":"Event handlers","_path":"/guide/event-handlers"},{"title":"Migration","_path":"/guide/migration"}],"icon":"ph:star-duotone","redirect":"/introduction/getting-started"},{"title":"API","_path":"/api","children":[{"title":"Hooks","_path":"/api/hooks"}],"icon":"heroicons-outline:bookmark-alt"}]}