{"_path":"/guide/migration","_dir":"guide","_draft":false,"_partial":false,"_locale":"","title":"Migration","description":"","body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"migration"},"children":[{"type":"text","value":"Migration"}]},{"type":"element","tag":"h2","props":{"id":"from-100-to-101"},"children":[{"type":"text","value":"From 1.0.0 to 1.0.1"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Following "},{"type":"element","tag":"a","props":{"href":"https://github.com/huang-julien/nitro-opentelemetry/releases/tag/v0.7.0","rel":["nofollow"]},"children":[{"type":"text","value":"nitro-opentelemetry v0.7.0"}]},{"type":"text","value":", "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"event.context.span"}]},{"type":"text","value":" has been moved to "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"event.otel.span"}]}]},{"type":"element","tag":"h2","props":{"id":"from-0x-to-1x"},"children":[{"type":"text","value":"From 0.x to 1.x"}]},{"type":"element","tag":"h3","props":{"id":"moving-to-applicationinsights-3-and-opentelemetry"},"children":[{"type":"text","value":"Moving to Applicationinsights 3 and Opentelemetry"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"See "},{"type":"element","tag":"a","props":{"href":"https://learn.microsoft.com/fr-fr/azure/azure-monitor/app/opentelemetry-nodejs-migrate?tabs=upgrade","rel":["nofollow"]},"children":[{"type":"text","value":"Microsoft applicationinsights documentation"}]},{"type":"text","value":" for changes from applicationinsights 2 to 3."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"See "},{"type":"element","tag":"a","props":{"href":"https://github.com/huang-julien/nitro-opentelemetry","rel":["nofollow"]},"children":[{"type":"text","value":"nitro-opentelemetry"}]}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"H3Event.$appInsights"}]},{"type":"text","value":" has been removed in favor of Opentelemetry Span."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"applicationinsights:trackError:before"}]},{"type":"text","value":" has been removed."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"applicationinsights:context:tags"}]},{"type":"text","value":" has been removed. You can use "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"H3Event.context.span.setAttributes()"}]},{"type":"text","value":" instead."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"applicationinsights:trackRequest:before"}]},{"type":"text","value":" has been removed. You can use "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"otel:span:end"}]},{"type":"text","value":" nitro-opentelemetry hook instead."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"applicationinsights:trackError:before"}]},{"type":"text","value":" has been removed. You can directly hook into the error hook from nitro instead."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"You need to wrap all your event handlers with "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"defineTracedEventHandler"}]},{"type":"text","value":". See "},{"type":"element","tag":"a","props":{"href":"/guide/event-handlers"},"children":[{"type":"text","value":"event handlers"}]}]}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"from-100-to-101","depth":2,"text":"From 1.0.0 to 1.0.1"},{"id":"from-0x-to-1x","depth":2,"text":"From 0.x to 1.x","children":[{"id":"moving-to-applicationinsights-3-and-opentelemetry","depth":3,"text":"Moving to Applicationinsights 3 and Opentelemetry"}]}]}},"_type":"markdown","_id":"content:1.guide:4.migration.md","_source":"content","_file":"1.guide/4.migration.md","_stem":"1.guide/4.migration","_extension":"md"}